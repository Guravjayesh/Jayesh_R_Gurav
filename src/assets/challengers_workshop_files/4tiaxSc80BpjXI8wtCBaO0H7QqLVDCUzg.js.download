;/*FB_PKG_DELIM*/

__d("CentralImpressionRecord",["getStyleProperty","intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{impressedAt:0,invisibleReason:null,status:null,target:a,visible:!1,visiblePercentage:0}}function b(a,b){var d=a.target,e=a.boundingClientRect,f=null,g=!1;!c("intersectionObserverEntryIsIntersecting")(a)?f="NOT_IN_VIEWPORT":e==null?f="UNDEFINED_BOUNDING_RECT":e.height===0||e.width===0?f="TARGET_SIZE_0":c("getStyleProperty")(d,"opacity")==="0"?f="TARGET_TRANSPARENT":c("getStyleProperty")(d,"visibility")==="hidden"?f="TARGET_HIDDEN":g=!0;e=g===!1?0:a.intersectionRatio;var h=b.visible,i=b.impressedAt,j=null;h&&!g?j="EXIT":!h&&g?(j="ENTER",i=Date.now()):b.visiblePercentage!==e&&(j="UPDATE");return{boundingClientRect:a.boundingClientRect,impressedAt:i,intersectionRect:a.intersectionRect,invisibleReason:f,rootBounds:a.rootBounds,status:j,target:d,visible:g,visiblePercentage:e}}function h(a,b){return!a.visible?null:babelHelpers["extends"]({},a,{invisibleReason:b,status:"EXIT",visible:!1,visiblePercentage:0})}function d(a){return h(a,"PUSH_VIEW_HIDDEN")}function e(a){return h(a,"COMPONENT_UNMOUNTED")}function f(a){return h(a,"PAGE_VISIBILITY_HIDDEN")}g.initImpressionRecord=a;g.calcNextObservedRecord=b;g.calcExitRecordOnPushViewHidden=d;g.calcExitRecordOnUnmount=e;g.calcExitRecordOnViewportHidden=f}),98);
__d("calculateImpressionViewablePercentage",[],(function(a,b,c,d,e,f){"use strict";var g={height:0,width:0,x:0,y:0};function h(a,b){var c=Math.max(a.y,b.y),d=Math.min(a.y+a.height,b.y+b.height);if(c>=d)return g;var e=Math.max(a.x,b.x);a=Math.min(a.x+a.width,b.x+b.width);return e>=a?g:{height:d-c,width:a-e,x:e,y:c}}function a(a,b,c){b={height:b.height-c.top-c.bottom,width:b.width-c.left-c.right,x:b.x+c.left,y:b.y+c.top};if(a.height===0||a.width===0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:1};if(b.height<=0||b.width<=0)return{boundingClientRect:a,rootBounds:b,visiblePercentage:0};c=h(b,a);return{boundingClientRect:a,intersectionRect:c,rootBounds:b,visiblePercentage:c.height*c.width/(a.height*a.width)}}f["default"]=a}),66);
__d("isImpressionTargetOccluded",["containsNode","getViewportDimensions"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d===void 0&&(d={bottom:0,left:0,right:0,top:0});try{if(!a||!b||!document.elementFromPoint)return!1;var e=c("getViewportDimensions")();if(e.height===0||e.width===0)return!1;var f=b.x,g=b.y,h=b.width;b=b.height;h=Math.min(f+h,e.width-1);b=Math.min(g+b,e.height-1);e=[{x:f,y:g},{x:f,y:b},{x:h,y:g},{x:h,y:b},{x:(f+h)/2,y:(g+b)/2}];d.top!==0&&d.top>g&&d.top<b&&e.push({x:(f+h)/2,y:(d.top+b)/2});return e.every(function(b){b=document.elementFromPoint(b.x,b.y);b=!!b&&!c("containsNode")(b,a)&&!c("containsNode")(a,b);return b})}catch(a){return!1}}g["default"]=a}),98);
__d("calcNextImpressionSnapshotRecord",["Visibility","calculateImpressionViewablePercentage","getElementPosition","getStyleProperty","getViewportDimensions","gkx","isImpressionTargetOccluded"],(function(a,b,c,d,e,f,g){"use strict";var h={bottom:0,left:0,right:0,top:0};function i(a){if(a==null||document.documentElement==null)return null;a=a.parentElement;while(a!=null){if(a===document.documentElement||a.nodeType!==1)return null;if(c("getStyleProperty")(a,"position")==="absolute"&&c("getStyleProperty")(a,"overflow")!=="visible")return a;a=a.parentElement}return null}function a(a,b,d){d===void 0&&(d={});if(c("gkx")("2637")&&d.isCometHiddenSubtree)return{impressedAt:b.impressedAt,invisibleReason:"PUSH_VIEW_HIDDEN",status:b.visible?"EXIT":null,target:a,visible:!1,visiblePercentage:0};var e=c("getElementPosition")(a),f=babelHelpers["extends"]({x:0,y:0},c("getViewportDimensions")()),g=c("calculateImpressionViewablePercentage")(e,f,h),j=!1;if(g.visiblePercentage>0){var k=i(a);k!=null&&g.intersectionRect!=null&&(j=!0,g=c("calculateImpressionViewablePercentage")(g.intersectionRect,c("getElementPosition")(k),h))}k=d;k=k.viewportMargin;j=k&&!j?c("calculateImpressionViewablePercentage")(e,f,k):g;j.visiblePercentage;f=babelHelpers.objectWithoutPropertiesLoose(j,["visiblePercentage"]);g=g;var l=g.intersectionRect;g=g.visiblePercentage;var m=null,n=!1;g<=0?m="NOT_IN_VIEWPORT":l&&c("isImpressionTargetOccluded")(a,l,k||h)?m=j.visiblePercentage===0?"OCCLUDED_BY_MARGIN":d.isCometHiddenSubtree===!0?"PUSH_VIEW_HIDDEN":"OCCLUSION_DETECTED":c("Visibility").isHidden()?m="PAGE_VISIBILITY_HIDDEN":e.height===0||e.width===0?m="TARGET_SIZE_0":c("getStyleProperty")(a,"opacity")==="0"?m="TARGET_TRANSPARENT":c("getStyleProperty")(a,"visibility")==="hidden"?m="TARGET_HIDDEN":n=!0;g=n===!1?0:j.visiblePercentage;l=b.visible;k=b.impressedAt;d=null;l&&!n?d="EXIT":!l&&n?(d="ENTER",k=Date.now()):b.visiblePercentage!==g&&(d="UPDATE");return babelHelpers["extends"]({impressedAt:k,invisibleReason:m,status:d,target:a,visible:n,visiblePercentage:g},f)}g["default"]=a}),98);
__d("CentralImpressionScrollBasedTracker",["CentralImpressionRecord","CometThrottle","ImpressionLoggingTimerThreshold","Visibility","calcNextImpressionSnapshotRecord","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e,f){var g=this;e===void 0&&(e=null);f===void 0&&(f={});this.THROTTLE_TIMEOUT=c("ImpressionLoggingTimerThreshold").THROTTLE_TIMEOUT;this.takeSnapshot=c("CometThrottle")(function(){if(g.$3==null||g.$8===!0)return;var a=c("calcNextImpressionSnapshotRecord")(g.$3,g.$2,g.$7);g.$9(a)},this.THROTTLE_TIMEOUT);this.takeSnapshotWithDoubleRaf=c("CometThrottle")(function(){if(g.$3==null||g.$8===!0)return;var a=c("calcNextImpressionSnapshotRecord")(g.$3,g.$2,g.$7);g.$9(a)},this.THROTTLE_TIMEOUT);this.$5=e;this.$2=d("CentralImpressionRecord").initImpressionRecord(a);this.$1=b;this.$3=a;this.$7=f;this.$8=!1;c("setTimeout")(this.takeSnapshotWithDoubleRaf,0);document.addEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});window.addEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0});"MutationObserver"in window&&(this.$6=new MutationObserver(this.takeSnapshotWithDoubleRaf),this.$6.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}));this.$4=[c("Visibility").addListener(c("Visibility").HIDDEN,this.takeSnapshot),c("Visibility").addListener(c("Visibility").VISIBLE,this.takeSnapshot)]}var b=a.prototype;b.getOptionalUniqueID=function(){return this.$5};b.peek=function(){return this.$2};b.setIsCometHiddenInSubtree=function(a){this.$7.isCometHiddenSubtree=a};b.remove=function(){document.removeEventListener("scroll",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),window.removeEventListener("resize",this.takeSnapshotWithDoubleRaf,{capture:!0,passive:!0}),this.$6&&this.$6.disconnect(),this.$4.forEach(function(a){return a.remove()}),this.$8=!0};b.unmount=function(){var a=d("CentralImpressionRecord").calcExitRecordOnUnmount(this.$2);a!=null&&this.$9(a);this.remove()};b.update=function(a,b,c){c===void 0&&(c={}),this.$1=b,this.$3=a,this.$7=babelHelpers["extends"]({},this.$7,c)};b.$9=function(a){var b=this.$2;this.$2=a;a.status!=null&&this.$1(a,this,b,this.$7.isAdRefresh||!1)};return a}();g["default"]=a}),98);
__d("useScrollBasedImpressionTracker",["BaseViewportMarginsContext","CentralImpressionScrollBasedTracker","HiddenSubtreePassiveContext","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useCallback,i=b.useContext,j=b.useEffect,k=b.useRef;function a(a,b){var d=k(null),e=k(null),f=i(c("BaseViewportMarginsContext")),g=k(null),l=i(c("HiddenSubtreePassiveContext")),m=h(function(b){if(d.current==null)return;if(e.current==null||b!=null&&e.current.getOptionalUniqueID()!==b){var h=!1;e.current!=null&&(e.current.unmount(),e.current=null,h=!0);e.current=new(c("CentralImpressionScrollBasedTracker"))(d.current,a,b,{isAdRefresh:h,isCometHiddenSubtree:l.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f});g.current!=null&&(g.current.remove(),g.current=null);g.current=l.subscribeToChanges(function(a){e.current!=null&&e.current.setIsCometHiddenInSubtree(a.hiddenOrBackgrounded_FIXME)})}else e.current.update(d.current,a,{isCometHiddenSubtree:l.getCurrentState().hiddenOrBackgrounded_FIXME,viewportMargin:f})},[l,a,f]),n=h(function(a){d.current!==a&&a!=null&&(d.current=a,m(b))},[m,b]);j(function(){return function(){e.current!=null&&(e.current.unmount(),e.current=null),g.current!=null&&(g.current.remove(),g.current=null)}},[]);j(function(){m(b)},[m,b]);return n}g["default"]=a}),98);
__d("PolarisMediaPrefetcher.react",["cx","PolarisLogger","PolarisResponsiveImage.react","PolarisResponsiveVideo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="PREFETCHED_IMAGE";b="PREFETCHED_VIDEO";var k=new Set(),l=new Set(),m=new Set(),n=[],o=10*1e3;e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var c,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=e=a.call.apply(a,[this].concat(g))||this,e.state={next:null},e.$4=function(a){return k.has(a)||l.has(a)},e.$1=function(){if(e.props.postIds==null)return!1;for(var a=e.props.resources,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!e.$4(d.id))return!1}return!0},e.$3=function(){var a=e.state.next;if(a!=null&&!m.has(a.id)){var b=window.setTimeout(function(){k.has(a.id)||e.$5(a.id)},o);m.add(a.id);n.push(b)}},e.$2=function(){e.props.resources.length>0&&d("PolarisLogger").logAction("mediaPrefetchComplete",{eligibleResourceCount:e.props.resources.length,successCount:k.size,timeoutCount:l.size,viewKey:e.props.viewKey}),e.props.onLoadComplete!=null&&e.props.onLoadComplete()},e.$5=function(a){d("PolarisLogger").logAction("mediaPrefetchTimedOut",{resource:e.state.next}),l.add(a),m["delete"](a),e.setState(b.prefetchNext(e.props)),e.$1()&&e.$2()},e.$6=function(){var a=e.state.next;a!=null&&(d("PolarisLogger").logAction("mediaPrefetchSuccess",{resource:e.state.next}),k.add(a.id),e.setState(b.prefetchNext(e.props)));e.$1()&&e.$2()},c)||babelHelpers.assertThisInitialized(e)}b.getDerivedStateFromProps=function(a){return b.prefetchNext(a)};var e=b.prototype;e.componentDidMount=function(){this.$1()?this.$2():this.$3()};e.componentDidUpdate=function(){this.$3()};e.componentWillUnmount=function(){m.clear();l.clear();for(var a=0;a<n.length;a++){var b=n[a];window.clearTimeout(b)}n.length=0};e.shouldComponentUpdate=function(a,b){return this.props.enabled!==a.enabled||this.state.next!==b.next};b.prefetchNext=function(a){var b=a.enabled;a=a.resources;if(!b)return null;for(var b=a,a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(a){if(c>=b.length)break;d=b[c++]}else{c=b.next();if(c.done)break;d=c.value}d=d;if(k.has(d.id)||l.has(d.id))continue;return{next:d}}return{next:null}};e.render=function(){var a=this.props,b=a.currentPostId,d=a.enabled;a=a.layoutWrapper;var e=this.state.next;if(e==null||!d)return null;d=!this.$4(e.id)&&(b==null||b!=null&&b!==e.id);b=d&&(e.type===j?i.jsx(c("PolarisResponsiveImage.react"),{className:"_ac9q",onError:this.$6,onLoad:this.$6,src:e.src,srcSet:e.srcSet},e.src):i.jsx(c("PolarisResponsiveVideo.react"),{className:"_ac9q",onError:this.$6,onLoaded:this.$6,preloadOnly:!0,sources:e.srcSet},e.src));return i.jsx(a,{resource:e,children:b})};return b}(i.Component);e.defaultProps={enabled:!0,layoutWrapper:function(a){a=a.children;return a}};function a(){k.clear(),m.clear(),l.clear()}g.PREFETCHED_IMAGE=j;g.PREFETCHED_VIDEO=b;g.TIMEOUT_DURATION=o;g.MediaPrefetcher=e;g._resetState=a}),98);
__d("PolarisVideoPreloader.react",["react","useStable"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useEffect;function i(a){var b=c("useStable")(function(){return new XMLHttpRequest()}),d=a.onError,e=a.onLoaded,f=a.onTimeout,g=a.src,i=a.timeout;h(function(){b.open("GET",g,!0);b.responseType="blob";b.onload=function(){b.status===200?e():d()};f!=null&&(b.ontimeout=f);b.timeout=i*1e3;b.send();return function(){b.abort()}},[d,e,f,g,i,b])}function a(a){i(a);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisResponsiveVideo.react",["PolarisBatchDOM","PolarisMediaPrefetcher.react","PolarisVideoPreloader.react","PolarisVideoResource","UserAgent","nullthrows","polarisGetCrossOriginAttribute","polarisUnexpected","polarisWithForwardRef","polarisWithRemountOnChange","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$5=function(a){c.$1=a,c.props.videoRef&&c.props.videoRef(a)};c.state={width:null};return c}var e=b.prototype;e.$3=function(){return c("nullthrows")(this.$1).getBoundingClientRect().width};e.$4=function(){var a=this.$3(),b=window.devicePixelRatio||1;return a*b};e.$6=function(a,b,c){if(a==null)return b;if(a.configWidth<c&&b.configWidth>a.configWidth)return b;return b.configWidth>c&&b.configWidth<=a.configWidth?b:a};e.$7=function(a){var b=null,e=null,f=[];for(var g=this.props.sources,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;switch(j.profile){case d("PolarisVideoResource").PROFILE_MAIN:b=this.$6(b,j,a);break;case d("PolarisVideoResource").PROFILE_BASELINE:e=this.$6(e,j,a);break;default:c("polarisUnexpected")("got video candidate without a supported profile: "+String(j.profile)),f.push(j)}}return[].concat(b!=null?[b]:[],e!=null?[e]:[],f)};e.componentDidMount=function(){var a=this;d("PolarisBatchDOM").measure(function(){if(a.$2)return;var b=a.$4();d("PolarisBatchDOM").mutate(function(){if(a.$2)return;a.setState({width:b})})})};e.componentWillUnmount=function(){this.$2=!0};e.render=function(){var a=this.state.width,b=this.props,e=b.autoPlay,f=b.className,g=b.forwardedRef,i=b.preloadOnly;b.sources;var j=b.style;b.videoRef;b=babelHelpers.objectWithoutPropertiesLoose(b,["autoPlay","className","forwardedRef","preloadOnly","sources","style","videoRef"]);b=Object.freeze(babelHelpers["extends"]({},b,e!=null?{autoPlay:e}:{}));if(a==null)return h.jsx("video",{className:f,crossOrigin:c("polarisGetCrossOriginAttribute")(),ref:this.$5,style:j});else if(i){i=this.props;var k=i.onError;i=i.onLoaded;var l=this.$7(a);return k!=null&&i!=null&&h.jsx(c("PolarisVideoPreloader.react"),{onError:k,onLoaded:i,src:l[0].src,timeout:d("PolarisMediaPrefetcher.react").TIMEOUT_DURATION})}else if(e===!0&&c("UserAgent").isBrowser("Safari >= 15"))return h.jsx("video",babelHelpers["extends"]({className:f,crossOrigin:c("polarisGetCrossOriginAttribute")(),ref:g||this.$5,style:j},b,{src:this.$7(a)[0].src}));return h.jsx("video",babelHelpers["extends"]({className:f,crossOrigin:c("polarisGetCrossOriginAttribute")(),ref:g||this.$5,style:j},b,{children:this.$7(a).map(function(a,b){return h.jsx("source",{src:a.src,type:a.mimeType},b)})}))};return b}(h.PureComponent);function a(a,b){a=a.sources;b=b.sources;if(a===b)return!1;if(a.length!==b.length)return!0;for(var c=0;c<a.length;++c)if(a[c].src!==b[c].src)return!0;return!1}e=c("polarisWithForwardRef")(c("polarisWithRemountOnChange")(a)(b));g["default"]=e}),98);
__d("PolarisMediaPrefetchContainer.react",["PolarisMediaPrefetcher.react","PolarisPostUtils","PolarisReactRedux","nullthrows","polarisPostSelectors","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=[];function i(a){if(a.isVideo===!0)return null;return a.src!=null&&a.src!==""&&a.displayResources?{type:d("PolarisMediaPrefetcher.react").PREFETCHED_IMAGE,id:a.id,src:a.src,srcSet:a.displayResources,intrinsicDimensions:c("nullthrows")(a.dimensions)}:null}function j(a){var b=a.sidecarChildren;if(b!=null&&b.length){var c=d("PolarisPostUtils").getInitialSidecarIndexFromPost(a);return i(b[c])}return i(a)}function a(a,b){var c=b.getResourceFromPost||j,e=d("polarisStorySelectors").getCurrentReel(a),f=a.stories.currentReelItemIndex;e=e!=null&&e.itemIds!=null?e.itemIds[f]:null;return{currentPostId:e,enabled:b.viewKey==null||!!a.mediaPrefetches.isEnabledForView[b.viewKey],resources:(b.postIds||h).map(function(b){b=d("polarisPostSelectors").getPostOrNullById(a,b);return b?c(b):null}).filter(Boolean)}}b=d("PolarisReactRedux").connect(a)(d("PolarisMediaPrefetcher.react").MediaPrefetcher);g["default"]=b}),98);
__d("PolarisEndOfFeedDemarcator.react",["fbt","CometImage.react","IGDSBox.react","IGDSText.react","PolarisFastLink.react","PolarisFeedHeader.react","PolarisPanavisionQEHelpers","PolarisUA","XPolarisFeedControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp()?96:72,k=64,l=h._("__JHASH__GCchvPngliF__JHASH__"),m=h._("__JHASH__PavpwGiUmOk__JHASH__");function a(a){var b=a.className,e=a.showPastPostsLink,f=a.subtitle;a=a.title;var g=d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp(),n=d("PolarisUA").isMobile()?k:j,o=e||g,p=d("PolarisUA").isMobile()?i.jsx("div",{className:"x7a106z xvbhtw8 x9f619 xh8yej3 x1bs97v6 x1q0q8m5 xso031l",children:i.jsx(c("IGDSBox.react"),{paddingX:4,paddingY:3,children:i.jsx(c("IGDSText.react"),{color:"primaryText",size:"body",weight:"semibold",children:m})})}):i.jsx(c("IGDSBox.react"),{marginBottom:4,position:"relative",children:i.jsx(c("PolarisFeedHeader.react"),{hasBackButton:!1,text:m})}),q=i.jsx(c("PolarisFastLink.react"),{href:c("XPolarisFeedControllerRouteBuilder").buildURL({variant:"past_posts"}),children:i.jsx(c("IGDSText.react"),{color:"primaryButton",size:"body",weight:"semibold",children:h._("__JHASH__lqgER3dFza1__JHASH__")})});return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:b,style:d("PolarisUA").isMobile()?{marginBottom:0}:{},children:i.jsxs("div",{className:"x6s0dn4 xjbqb8w x9f619 x78zum5 xdt5ytf x1miatn0 xn6708d x1gan7if x1ye3gou xh8yej3",children:[i.jsx(c("IGDSBox.react"),{height:n,marginBottom:4,width:n,children:i.jsx(c("CometImage.react"),{alt:l,height:n,src:"/images/instagram/xig/web/illo-confirm-refresh-light.png",width:n})}),i.jsx(c("IGDSBox.react"),{marginBottom:3,children:i.jsx(c("IGDSText.react"),{color:"primaryText",size:"title",weight:"normal",children:a})}),i.jsx(c("IGDSBox.react"),{marginBottom:!d("PolarisUA").isMobile()&&g?5:3,children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",children:f})}),e&&q]})}),o&&p]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedActionRemovePostFromFeed",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{postId:a,type:"FEED_REMOVE_POST"}}f.removePostFromFeed=a}),66);
__d("PolarisAPIUnhidePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.inventorySource,c=a.postId;a=a.reason;return d("PolarisInstapi").apiPost("/api/v1/discover/explore_report_undo/",{body:{container_module:"feed_timeline",inventory_source:b,m_pk:c,selected_reason:a,sfplt_source:"sfplt_in_menu"}}).then(function(a){return a.data})}g.unhidePost=a}),98);
__d("PolarisPostActionUnhidePost",["InstagramODS","PolarisAPIUnhidePost","PolarisMonitorErrors","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.inventorySource,f=a.postId,g=a.reason;return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("PolarisAPIUnhidePost").unhidePost({inventorySource:e,postId:f,reason:g}),c("InstagramODS").incr("web.unhide_post.succeeded"),a({postId:f,type:"UNHIDE_POST_SUCCEEDED"})}catch(a){c("InstagramODS").incr("web.unhide_post.failed"),d("PolarisMonitorErrors").logError(a)}});return function(b){return a.apply(this,arguments)}}()}g.unhidePost=a}),98);
__d("PolarisRelationshipActionMuteUserPosts",["PolarisRelationshipActionMuteOrUnmuteUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisRelationshipActionMuteOrUnmuteUser").muteOrUnmuteUser(a,{mutePosts:!0},b)}g.muteUserPosts=a}),98);
__d("PolarisRelationshipActionMuteUserPostsAndStory",["PolarisRelationshipActionMuteOrUnmuteUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisRelationshipActionMuteOrUnmuteUser").muteOrUnmuteUser(a,{mutePosts:!0,muteStory:!0},b)}g.muteUserPostsAndStory=a}),98);
__d("PolarisRelationshipStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._("__JHASH__N2U-WjAm5Bj__JHASH__",[h._param("username",a)])}function b(a){return h._("__JHASH__2XfQ2uGEK9b__JHASH__",[h._param("username",a)])}function c(a){return h._("__JHASH__fkP8OEscq_4__JHASH__",[h._param("username",a)])}d=h._("__JHASH__0sZt3lJTLLZ__JHASH__");e=h._("__JHASH__WKjj1kUW8ub__JHASH__");f=h._("__JHASH__43MMIHxGsha__JHASH__");var i=h._("__JHASH__T8A8-MAko8C__JHASH__"),j=h._("__JHASH__3P1jvJc0NaG__JHASH__"),k=h._("__JHASH__mz2HcDOwyTD__JHASH__");g.muteUserText=a;g.unfollowUserText=b;g.muteDialogTitle=c;g.MUTE_DIALOG_BODY=d;g.MUTE_POSTS_BUTTON=e;g.MUTE_POSTS_AND_STORY_BUTTON=f;g.MUTED_POST_TOAST=i;g.MUTED_POSTS_AND_STORY_TOAST=j;g.UNFOLLOWED_TOAST=k}),98);
__d("PolarisPostHiddenUnit.react",["fbt","CometPlaceholder.react","CometPressable.react","IGCoreDialog","IGDSBox.react","IGDSCircleCheckPanoOutlineIcon","IGDSDivider.react","IGDSSpinner.react","IGDSText.react","InstagramODS","JSResource","PolarisConnectionsLogger","PolarisFeedActionRemovePostFromFeed","PolarisGenericStrings","PolarisPostActionHidePost","PolarisPostActionUnhidePost","PolarisReactRedux","PolarisRelationshipActionMuteUserPosts","PolarisRelationshipActionMuteUserPostsAndStory","PolarisRelationshipActionUnfollowUser","PolarisRelationshipStrings","PolarisToastActions","PolarisUA","isStringNullOrEmpty","lazyLoadComponent","nullthrows","polarisPostSelectors","polarisUserSelectors","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState,l=c("JSResource")("PolarisPostFastReportModal.react").__setRef("PolarisPostHiddenUnit.react"),m=c("lazyLoadComponent")(l),n={desktopStyles:{backgroundColor:"xvbhtw8",borderTop:"x1wzhzgj",borderEnd:"xvb8j5",borderBottom:"x13zqm9e",borderStart:"x1oeynoz",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginBottom:"xod5an3",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xnz67gz",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0}};function o(a){var b=a.color,d=a.loading;d=d===void 0?!1:d;var e=a.onClick;a=a.title;return i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSDivider.react"),{}),i.jsx(c("CometPressable.react"),{expanding:!0,onPress:e,overlayDisabled:!0,children:i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",minHeight:40,position:"relative",width:"100%",children:d?i.jsx(c("IGDSSpinner.react"),{size:"small"}):i.jsx(c("IGDSText.react").BodyEmphasized,{color:b,children:a})})})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.isVisible;b=b===void 0?!1:b;var e=a.onClose,f=a.ownerId,g=a.postId;a=a.title;var h=d("PolarisReactRedux").useDispatch();j(function(){c("InstagramODS").incr("web.feed.post_controls.mute_dialog.show")},[]);return i.jsxs(d("IGCoreDialog").IGCoreDialog,{isVisible:b,onModalClose:function(){c("InstagramODS").incr("web.feed.post_controls.mute_dialog.close"),e()},title:a,children:[i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",marginBottom:6,paddingX:6,position:"relative",children:i.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:d("PolarisRelationshipStrings").MUTE_DIALOG_BODY})}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:function(){c("InstagramODS").incr("web.feed.post_controls.mute_dialog.mute_posts_click"),h(d("PolarisRelationshipActionMuteUserPosts").muteUserPosts(f,function(){h(d("PolarisFeedActionRemovePostFromFeed").removePostFromFeed(g)),h(d("PolarisToastActions").showToast({text:d("PolarisRelationshipStrings").MUTED_POST_TOAST}))})),e()},children:d("PolarisRelationshipStrings").MUTE_POSTS_BUTTON}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:function(){c("InstagramODS").incr("web.feed.post_controls.mute_dialog.mute_posts_and_story_click"),h(d("PolarisRelationshipActionMuteUserPostsAndStory").muteUserPostsAndStory(f,function(){h(d("PolarisFeedActionRemovePostFromFeed").removePostFromFeed(g)),h(d("PolarisToastActions").showToast({text:d("PolarisRelationshipStrings").MUTED_POSTS_AND_STORY_TOAST}))})),e()},children:i.jsx(c("IGDSText.react").Body,{color:"errorOrDestructive",children:d("PolarisRelationshipStrings").MUTE_POSTS_AND_STORY_BUTTON})}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:function(){c("InstagramODS").incr("web.feed.post_controls.mute_dialog.mute_cancel_click"),e()},children:d("PolarisGenericStrings").CANCEL_TEXT})]})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.ownerId,e=a.postId;a=a.username;var f=d("PolarisReactRedux").useDispatch(),g=k(!1),h=g[0],j=g[1];g=k(!1);var l=g[0],m=g[1];g=k(!1);var n=g[0],q=g[1];return i.jsxs(i.Fragment,{children:[i.jsx(o,{color:"primaryText",onClick:function(){c("InstagramODS").incr("web.feed.post_controls.hidden_post.mute_user_click"),j(!0)},title:d("PolarisRelationshipStrings").muteUserText(a)}),i.jsx(o,{color:"primaryText",loading:n,onClick:function(){q(!0),c("InstagramODS").incr("web.feed.post_controls.hidden_post.unfollow_user_click"),f(d("PolarisRelationshipActionUnfollowUser").unfollowUser(b,d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.hidden_post_unit,{},function(){f(d("PolarisFeedActionRemovePostFromFeed").removePostFromFeed(e)),f(d("PolarisToastActions").showToast({text:d("PolarisRelationshipStrings").UNFOLLOWED_TOAST}))}))},title:d("PolarisRelationshipStrings").unfollowUserText(a)}),i.jsx(o,{color:"primaryButton",loading:l,onClick:function(){c("InstagramODS").incr("web.feed.post_controls.hidden_post.undo_click"),m(!0),f(d("PolarisPostActionUnhidePost").unhidePost({inventorySource:"media_or_ad",postId:e}))},title:d("PolarisGenericStrings").UNDO_TEXT}),h&&i.jsx(p,{isVisible:h,onClose:function(){return j(!1)},ownerId:b,postId:e,title:d("PolarisRelationshipStrings").muteDialogTitle(a)})]})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.followupOptions,e=a.postId,f=a.selectedReason,g=a.setDemotionControl,h=a.setSelectedReason,n=d("PolarisReactRedux").useDispatch();a=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getPostById(a,e)});var p=k(!1),q=p[0],r=p[1];p=k(!1);var s=p[0],t=p[1];j(function(){l.preload()},[]);return i.jsxs(i.Fragment,{children:[b==null?void 0:b.map(function(a){var b=a.id,f=b==="report";return i.jsx(o,{color:f?"errorOrDestructive":"primaryText",onClick:function(){f?(c("InstagramODS").incr("web.feed.post_controls.hidden_post.report_click"),t(!0)):(c("InstagramODS").incr("web.feed.post_controls.hidden_post.unconnected_demote_click"),n(d("PolarisPostActionHidePost").hidePost({inventorySource:"explore_story",onSuccess:function(){g(a.demotion_control),h(b)},postId:e,reason:b})))},title:a.text},b)}),i.jsx(o,{color:"primaryButton",loading:q,onClick:function(){c("InstagramODS").incr("web.feed.post_controls.hidden_post.undo_click"),r(!0),n(d("PolarisPostActionUnhidePost").unhidePost(babelHelpers["extends"]({inventorySource:"explore_story",postId:e},f!=null?{reason:f}:{})))},title:d("PolarisGenericStrings").UNDO_TEXT}),s===!0&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,{onClose:function(){return t(!1)},post:a})})]})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.id;a=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").getPostById(a,b)});var e=c("nullthrows")(a.owner).id,f=d("PolarisReactRedux").useSelector(function(a){return d("polarisUserSelectors").getUserById(a,e)});j(function(){c("InstagramODS").incr("web.feed.post_controls.hidden_post.show")},[]);var g=a.feedDemotionControl;a=a.feedRecsDemotionControl;var l=g!=null;g=k((g=g)!=null?g:a);a=g[0];g=g[1];var m=k(null),o=m[0];m=m[1];if(a==null)return null;var p=a==null?void 0:a.confirmation_icon,s=a==null?void 0:a.confirmation_title,t=a==null?void 0:a.confirmation_body,u=function(){if(!c("isStringNullOrEmpty")(f==null?void 0:f.username))return f==null?void 0:f.username;else return h._("__JHASH__6Azf1_K63sL__JHASH__")}();u=l?i.jsx(q,{ownerId:e,postId:b,username:u}):i.jsx(r,{followupOptions:a==null?void 0:a.followup_options,postId:b,selectedReason:o,setDemotionControl:g,setSelectedReason:m});return i.jsxs("div",{className:c("stylex")(n.root,d("PolarisUA").isDesktop()&&n.desktopStyles),children:[i.jsxs(c("IGDSBox.react"),{marginTop:6,position:"relative",children:[(l||p==="checkmark")&&i.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",marginBottom:6,position:"relative",children:i.jsx(c("IGDSCircleCheckPanoOutlineIcon"),{alt:d("PolarisGenericStrings").CHECKMARK_OUTLINE_ICON_ALT,color:"ig-success",size:48})}),!c("isStringNullOrEmpty")(s)&&i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",marginBottom:4,paddingX:8,position:"relative",children:i.jsx(c("IGDSText.react").LabelEmphasized,{color:"primaryText",textAlign:"center",children:s})}),i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",marginBottom:6,paddingX:8,position:"relative",children:i.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:t})})]}),u]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisSponsoredPostImageAsCtaUtils",["$InternalEnum","PolarisAdsGatingHelpers"],(function(a,b,c,d,e,f,g){"use strict";c=b("$InternalEnum").Mirrored(["Image","Video","Mixed","NotCarousel"]);function a(){return d("PolarisAdsGatingHelpers").imageMediaAsCtaJKEnabled()&&d("PolarisAdsGatingHelpers").userSeesImageMediaAsCtaExperiment()}g.CarouselType=c;g.imageMediaAsCtaIsEnabledForSingleImage=a}),98);
__d("usePolarisSponsoredPostHasImageAsCta",["PolarisUA","polarisAdsSelectors","usePolarisSponsoredPostImageAsCtaUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null||a.length<=0)return d("usePolarisSponsoredPostImageAsCtaUtils").CarouselType.NotCarousel;if(a.every(function(a){return a.isVideo}))return d("usePolarisSponsoredPostImageAsCtaUtils").CarouselType.Video;return a.every(function(a){return!a.isVideo})?d("usePolarisSponsoredPostImageAsCtaUtils").CarouselType.Image:d("usePolarisSponsoredPostImageAsCtaUtils").CarouselType.Mixed}function i(a,b){var c,e=a.id;a=a.isSponsored;e=d("polarisAdsSelectors").useFeedAdInfo(e,function(a){return a});var f=e!=null;if(b==null)return!1;c=e==null?void 0:(c=e.ctaItems)==null?void 0:(c=c.get(b))==null?void 0:c.ctaLinkText;b=e==null?void 0:(e=e.ctaItems)==null?void 0:(e=e.get(b))==null?void 0:e.ctaLinkUrl;return a===!0&&f&&c!=null&&b!=null}function a(a){var b=a.id,c=a.sidecarChildren,e=a.usertags;a=i(a,b);b=d("usePolarisSponsoredPostImageAsCtaUtils").imageMediaAsCtaIsEnabledForSingleImage();c=h(c);return(e==null||e.length===0)&&a&&c===d("usePolarisSponsoredPostImageAsCtaUtils").CarouselType.NotCarousel&&b&&d("PolarisUA").isDesktop()}g.getCarouselType=h;g.usePolarisIsFeedAdWithValidCta=i;g.usePolarisSponsoredPostHasImageAsCta=a}),98);
__d("usePolarisSponsoredPostHasPersistentCta",["PolarisAdsGatingHelpers","PolarisPostUtils","usePolarisSponsoredPostHasImageAsCta"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isSidecar,c=a.src,e=a.thumbnailSrc;e=(e=e)!=null?e:c;b=b===!0?(c=d("PolarisPostUtils").getCurrentSidecarItemFromPost(a,0))==null?void 0:c.id:a.id;c=d("usePolarisSponsoredPostHasImageAsCta").usePolarisIsFeedAdWithValidCta(a,b);return b!=null&&c&&e!=null&&d("PolarisAdsGatingHelpers").persistentCTAJKEnabled()}g.usePolarisSponsoredPostHasPersistentCta=a}),98);
__d("PolarisSponsoredBlockedElStore",[],(function(a,b,c,d,e,f){"use strict";var g=new Set();function a(a){g.add(a)}function b(a){return g.has(a)}function c(a){return g["delete"](a)}function d(){return g.size>0}f.m=a;f.c=b;f.d=c;f.b=d}),66);
__d("PolarisSponsoredElDisplayMonitor",["clearTimeout","cometGHLContentDisplayCheck","setTimeoutCometLoggingPri"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(),i=1e3,j=null;a=function(a){h.has(a)||h.add(a);j===null&&k();return{dispose:function(){h["delete"](a),h.size===0&&(c("clearTimeout")(j),j=null)}}};var k=function a(){h.forEach(function(a,b){a=b.onLogBlockCallback;var d=b.startTime;b=b.targetRef;b=b.current;if(b==null)return;b=c("cometGHLContentDisplayCheck")(b);if(!b){b=Date.now()-d;a(b)}}),j=c("setTimeoutCometLoggingPri")(a,i)};g.m=a}),98);
__d("usePolarisSponsoredElTracker",["IgWebSwankFalcoEvent","PolarisSponsoredBlockedElStore","PolarisSponsoredElDisplayMonitor","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef;function a(a){var b=a.mediaType,e=a.position,f=a.postId,g=a.trackingToken,k=j(null),l=j(!1),m=h(function(a){if(l.current)return;l.current=!0;c("IgWebSwankFalcoEvent").log(function(){return{en:String(0),hd:String(a),mt:String(b),sli:String(e),tt:g}});var f=k.current;f!==null&&d("PolarisSponsoredBlockedElStore").m(f)},[b,e,g]);i(function(){var a=k.current;return function(){a&&d("PolarisSponsoredBlockedElStore").d(a)}},[k,e,f]);i(function(){var a=null,b=Date.now();if(k===null)return;if(l.current===!0)return;a=d("PolarisSponsoredElDisplayMonitor").m({onLogBlockCallback:m,startTime:b,targetRef:k});return function(){a&&a.dispose()}},[k,f,l,m]);return k}g["default"]=a}),98);
__d("usePolarisSponsoredPostImpressionSecondChannelLogger",["InstagramAdImpressionSecondChannelFalcoEvent","InstagramAdSubImpressionSecondChannelFalcoEvent","InstagramODS","PolarisContainerModuleUtils","PolarisInteractionsLogger","PolarisPanavisionQEHelpers","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","cr:6627","qex","usePolarisAnalyticsContext","usePolarisViewer","useScrollBasedImpressionTracker"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qex")._("1229"),i=d("PolarisPanavisionQEHelpers").hasPolarisFeedRevamp({silent:!0})?"test":"control",j=6e4,k=2e3,l=new Map(),m=new Set();function a(a,e){var f=c("usePolarisAnalyticsContext")(),g=c("usePolarisViewer")(),n=a==null?void 0:a.ad_id,o=a==null?void 0:a.tracking_token;return c("useScrollBasedImpressionTracker")(function(a){if(n!=null&&o!=null&&f==="feedPage"&&(g==null?void 0:g.id)!=null){if(a.status!=="ENTER")return;var p={ad_id:n,inventory_source:d("PolarisContainerModuleUtils").getContainerModule(f),m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(e),m_t:d("PolarisInteractionsLogger").getMediaTypeFromPost(e).toString(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(f),pk:g==null?void 0:g.id,tracking_token:o},q=[JSON.stringify({is_sponsored:!0,m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(e),tracking_token:o})],r=l.get(n),s=Date.now(),t=r!=null&&s-r>=j;if(m.has(n))return;m.add(n);window.setTimeout(function(){var d=c("cometGHLContentDisplayCheck")(a.target);r==null?d?(c("InstagramODS").incr("web.ads.feed.impression.second_channel"),c("InstagramAdImpressionSecondChannelFalcoEvent").log(function(){return p}),h===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{event:"impression_second_channel_client",qe_infos:["ig_web_h1_2023_feed:has_relay_feed:"+i],tracking:q}}),l.set(n,s)):c("InstagramODS").incr("web.ads.feed.impression.second_channel.hidden"):t&&(d?(c("InstagramODS").incr("web.ads.feed.sub_impression.second_channel"),c("InstagramAdSubImpressionSecondChannelFalcoEvent").log(function(){return p}),h===!0&&b("cr:6627")!=null&&b("cr:6627").log(function(){return{event:"sub_impression_second_channel_client",qe_infos:["ig_web_h1_2023_feed:has_relay_feed:"+i],tracking:q}}),l.set(n,s)):c("InstagramODS").incr("web.ads.feed.sub_impression.second_channel.hidden"));m["delete"](n)},k)}})}g["default"]=a}),98);
__d("usePolarisSponsoredPostImpressionRefs",["PolarisReactRedux","polarisAdsSelectors","polarisFeedSelectors","polarisPostSelectors","qex","usePolarisSponsoredElTracker","usePolarisSponsoredPostImpressionSecondChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";b=c("qex")._("1002");var h=b===!0?c("usePolarisSponsoredPostImpressionSecondChannelLogger"):function(a,b){return null};function a(a){var b=d("PolarisReactRedux").useSelector(function(b){return d("polarisPostSelectors").getPostById(b,a)}),e=d("PolarisReactRedux").useSelector(function(a){return d("polarisFeedSelectors").getFeedContent(a)}),f=d("polarisAdsSelectors").useFeedAdInfo(b==null?void 0:b.id,function(a){return a});b=h(f,b);var g=[];b!=null&&g.push(b);e=c("usePolarisSponsoredElTracker")({mediaType:0,position:(e=(b=e.items)==null?void 0:b.findIndex(function(b){b=b.postId;return b===a}))!=null?e:-2,postId:a,trackingToken:(b=f==null?void 0:f.tracking_token)!=null?b:""});g.push(e);return g}g["default"]=a}),98);
__d("InstagramAdBrandProfileFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4282");b=d("FalcoLoggerInternal").create("instagram_ad_brand_profile",a);e=b;g["default"]=e}),98);
__d("usePolarisSponsoredPostProfileClickLogger",["InstagramAdBrandProfileFalcoEvent","InstagramODS","PolarisContainerModuleUtils","PolarisNavChain","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","identityFunction","react","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b,e,f,g){var i=d("usePolarisPost").usePost(a,c("identityFunction"));return h(function(){var a=d("PolarisViewpointActionUtils").getMPKForStoryMedia(i.id,i.owner),h=d("PolarisStoriesLoggingUtils").getMediaTypeFromPost(i).toString(),j=d("PolarisContainerModuleUtils").getContainerModule(b);if(e==null||f==null)return;var k={a_pk:i.ownerId,ad_id:e,follow_status:d("PolarisViewpointActionUtils").getFollowStatus(g),m_pk:a,m_t:h,nav_chain:(a=c("PolarisNavChain").getInstance())==null?void 0:a.getNavChainForSend(),pigeon_reserved_keyword_module:j,source_of_action:j,tracking_token:f};c("InstagramODS").incr("web.ads.feed.profile.click");c("InstagramAdBrandProfileFalcoEvent").log(function(){return k})},[i,b,e,f,g])}g["default"]=a}),98);
__d("usePolarisSponsoredPostRenderedLogging",["InstagramODS","PolarisReactRedux","PolarisUA","memoizeStringOnly","polarisAdsSelectors","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=c("memoizeStringOnly")(function(a){return new Map()});function a(a,b){var e=d("PolarisReactRedux").useSelector(function(b){return d("polarisPostSelectors").getPostById(b,a)}),f=d("polarisAdsSelectors").useFeedAdInfo(e==null?void 0:e.id,function(a){return a}),g=f==null?void 0:f.ad_id;h(function(){var a=i(b),d=g!=null&&a.get(g);if(d===!0||g==null)return;c("InstagramODS").incr("web.ads.feed.rendered");a.set(g,!0)},[g,b]);var j=e.isVideo===!0;h(function(){j&&d("PolarisUA").isMobile()&&c("InstagramODS").incr("web.ads.msite.feed.video_ads.rendered")},[j])}g["default"]=a}),98);
__d("PolarisAdTimeSpentAction",["InstagramAdTimeSpentFalcoEvent","PolarisContainerModuleUtils","PolarisViewpointActionUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=500,i=new Map();function j(a,b){var c=i.get(a);b.percentVisible>=.5&&c==null&&i.set(a,b.snapshotTime);c=c==null?0:b.snapshotTime-c;if(b.state==="exited"&&c>h){i["delete"](a);return c}return null}function a(a,b,e,f,g){return function(h){var i=j(e,h);if(i==null)return;c("InstagramAdTimeSpentFalcoEvent").log(function(){var c;return{ad_id:e,follow_status:g,m_pk:(c=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a))!=null?c:"",pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),pk:(c=a.owner)==null?void 0:c.id,source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b),timespent:i,tracking_token:f}})}}g.makeAdTimeSpentAction=a}),98);
__d("PolarisAdViewabilityAction",["InstagramAdViewabilityFalcoEvent","PolarisContainerModuleUtils","PolarisViewpointActionUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=new Map();function a(a,b,e,f,g){var h=function(g,h,i){var j=l(h).get(e+i);if(j==null)return;var k=(g-j)/1e3;c("InstagramAdViewabilityFalcoEvent").log(function(){return{ad_id:e,duration:k,m_pk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(a),percent_visible:h.toString(),pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b),tracking_token:f,visibility_unit:i}})},i=g;return function(a){k(a,0,e,h,"feed_unit",i),k(a,50,e,h,"feed_unit",i),k(a,100,e,h,"feed_unit",i),k(a,50,e,h,"viewport",i),k(a,100,e,h,"viewport",i)}}function k(a,b,c,d,e,f){c=c+e;var g=a.percentVisible*100;if(e==="viewport"){var h;h=((h=(h=a.visibleRect)==null?void 0:h.height)!=null?h:0)/f*100;g=Math.max(g,h)}f=l(b);if(g>=b&&!f.has(c))f.set(c,a.snapshotTime);else{h=g<b;b===0&&(h=a.state==="exited");h===!0&&f.has(c)&&(d(a.snapshotTime,b,e),f["delete"](c))}}function l(a){if(a===0)return h;else if(a===50)return i;return j}g.makeAdViewabilityAction=a}),98);
__d("usePolarisSponsoredPostViewpointActions",["PolarisAdImpressionAction","PolarisAdTimeSpentAction","PolarisAdViewabilityAction","PolarisViewpointActionUtils","PolarisVpvdImpressionAction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g,h,i,j,k){var l=[];if(c==null||e==null||f==null||h==null)return[];f=babelHelpers["extends"]({ad_id:c,pk:f,tracking_token:e},j!=null?{client_position:j,m_ix:j}:{});j!=null&&(f.m_ix=j,f.client_position=j);k!=null&&(f.gap_to_last_ad=k);l.push(d("PolarisAdImpressionAction").makePostAdImpressionAction(a,b,f,i));l.push(d("PolarisVpvdImpressionAction").makePostVpvdImpressionAction(a,b,c,e));l.push(d("PolarisAdTimeSpentAction").makeAdTimeSpentAction(a,b,c,e,d("PolarisViewpointActionUtils").getFollowStatus(g)));l.push(d("PolarisAdViewabilityAction").makeAdViewabilityAction(a,b,c,e,h));return l}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useViewabilityImpression",["useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.onIntersection;return c("useVisibilityObserver")({onIntersection:a,options:{thresholdOverride:"MODERATE"}})}g["default"]=a}),98);
__d("IGDSStoryHighlightPanoFilled24Icon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 .5A11.5 11.5 0 1 0 23.5 12 11.513 11.513 0 0 0 12 .5Zm2.809 14.005c-.137.12-.275.238-.412.36l-.424.38c-1.053.941-1.428 1.273-1.633 1.406a.628.628 0 0 1-.68 0c-.215-.139-.666-.54-1.584-1.362l-.473-.424q-.198-.175-.396-.346C8.122 13.576 7 12.6 7 11.072a2.92 2.92 0 0 1 2.793-3.028A2.555 2.555 0 0 1 11.994 9.2c.002.002.003.004.008.001a2.544 2.544 0 0 1 2.205-1.157A2.92 2.92 0 0 1 17 11.072c0 1.532-1.114 2.498-2.191 3.433Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSStoryHighlightPanoOutline24Icon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M3.915 5.31q.337-.407.713-.779m-3.121 7.855Q1.5 12.194 1.5 12a10.505 10.505 0 0 1 .516-3.265m3.243 11.338a10.55 10.55 0 0 1-2.89-3.864m14.482 5.108a10.547 10.547 0 0 1-8.163.65M12.002 1.5a10.504 10.504 0 0 1 7.925 17.39",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),h.jsx("path",{d:"M12.002 9.201c-.005.003-.006.001-.008 0a2.555 2.555 0 0 0-2.201-1.157A2.92 2.92 0 0 0 7 11.072c0 1.528 1.122 2.504 2.207 3.447q.198.171.396.346l.473.424c.918.821 1.369 1.223 1.584 1.362a.628.628 0 0 0 .68 0c.205-.133.58-.465 1.633-1.406l.424-.38c.137-.122.275-.24.412-.36 1.077-.935 2.191-1.9 2.191-3.433a2.92 2.92 0 0 0-2.793-3.028 2.544 2.544 0 0 0-2.205 1.157Z",fillRule:"evenodd"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisFullscreenShellWithLogo.react",["fbt","ix","IGCoreImage","IGDSIconButton.react","IGDSXPanoFilledIcon","PolarisFastLink.react","PolarisFullscreenShell.react","PolarisGenericStrings","XPolarisFeedControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={buttons:{backgroundColor:"xjbqb8w",cursor:"x1ypdohk",marginTop:"xw7yly9",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",position:"x10l6tqk",top:"x13vifvy",$$css:!0},close:{end:"xds687c",$$css:!0},home:{start:"x17qophe",$$css:!0},shell:{backgroundColor:"x5qyhuo",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children;a=a.onClose;var e=c("XPolarisFeedControllerRouteBuilder").buildURL({});return j.jsxs(c("PolarisFullscreenShell.react"),{xstyle:k.shell,children:[b,j.jsx("div",{className:"xjbqb8w x1ypdohk xw7yly9 xktsk01 x1yztbdb x1d52u69 x10l6tqk x13vifvy x17qophe",children:j.jsx(c("PolarisFastLink.react"),{href:e,children:j.jsx(c("IGCoreImage"),{alt:h._("__JHASH__EubW9vzR0uu__JHASH__"),src:{light:i("163077")}})})}),j.jsx("div",{className:"xjbqb8w x1ypdohk xw7yly9 xktsk01 x1yztbdb x1d52u69 x10l6tqk x13vifvy xds687c",children:j.jsx(c("IGDSIconButton.react"),{onClick:a,children:j.jsx(c("IGDSXPanoFilledIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"web-always-white"})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisStoryPreviewImpressionLogger",["PolarisInstagramReelSessionSummaryFalcoEvent","PolarisLoggerUtils","PolarisStoriesLoggingUtils","usePolarisSponsoredStoryLoggingParams","useViewabilityImpression"],(function(a,b,c,d,e,f,g){"use strict";var h="web_story_preview",i={previewedStoryIds:new Set([]),prevViewerSession:""};function a(a,b){b=c("usePolarisSponsoredStoryLoggingParams")(a,b);var e=b.followStatus,f=b.isReelSponsored,g=b.loggingData,j=b.ownerId,k=b.reelId,l=b.storyAdInjectionData,m=b.traySession,n=b.viewerSession,o=((b=l==null?void 0:l.seenStoryAdIds)!=null?b:[]).length+((b=l==null?void 0:l.injectedStoryAdIds)!=null?b:[]).length+((b=l==null?void 0:l.availableStoryAdIds)!=null?b:[]).length;return c("useViewabilityImpression")({onIntersection:function(b){b=b.isElementVisible;n!==i.prevViewerSession&&i.previewedStoryIds.clear();if(k==null||i.previewedStoryIds.has(k)||!b)return;c("PolarisInstagramReelSessionSummaryFalcoEvent").log(function(){var b;return{a_pk:(b=j)!=null?b:"",action:h,ad_delivered_count:o,ad_photos_consumed:0,ad_videos_consumed:0,delivery_class:f?"ad":"organic",follow_status:(b=e)!=null?b:"unknown",is_ad:f,live_videos_consumed:0,pause_duration:Number(d("PolarisLoggerUtils").msToLogSeconds(g.reelPauseTime)),photos_consumed:g.photoCounter,pigeon_reserved_keyword_module:g.containermodule||"",reel_id:k,reel_size:(a==null?void 0:a.itemIds)?a==null?void 0:a.itemIds.length:0,reel_type:d("PolarisStoriesLoggingUtils").getTypeForLogging(a==null?void 0:a.type),replay_videos_consumed:0,session_reel_counter:g.reelCounter,time_elapsed:Number(d("PolarisLoggerUtils").msToLogSeconds(g.reelTotalTime-g.reelPauseTime)),tray_position:g.containermodule==="reel_feed_timeline"?g.reelPositionInTray:-1,tray_session_id:m,videos_consumed:g.videoCounter,viewer_session_ad_media_consumed:0,viewer_session_ad_reels_consumed:0,viewer_session_id:n,viewer_session_media_consumed:g.mediaCounter,viewer_session_reels_consumed:g.reelCounter}});i.previewedStoryIds.add(k);i.prevViewerSession=n}})}g["default"]=a}),98);
__d("PolarisDesktopSponsoredStoriesFooter.react",["PolarisEventLoop","PolarisSponsoredStoriesFooterCTA.react","PolarisStoryShareButtonWithDialog.react","PolarisStoryViewerToast.react","polarisAdsSelectors","react","usePolarisStoriesFooter"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.post;a=a.reel;var e=d("usePolarisStoriesFooter").usePolarisStoriesFooter(b,a),f=e.canReshare,g=e.ctaUrl,k=e.handleShareStory,l=e.setToastMessage,m=e.storyOwnerId;e=e.toastMessage;var n=j(!1),o=n[0],p=n[1];n=f?h.jsx(c("PolarisStoryShareButtonWithDialog.react"),{currentPost:b,handleShareStory:k,reelId:a.id,referrer:"DesktopStoriesFooter"}):null;f=d("polarisAdsSelectors").useStoryAdInfo(b.id,function(a){return a});k=f==null?void 0:(k=f.ctaItems)==null?void 0:(a=k.get(b.id))==null?void 0:a.ctaLinkText;i(function(){p(!1);var a=c("PolarisEventLoop").setTimeout(function(){p(!0)},d("usePolarisStoriesFooter").DELAY_BEFORE_CTA_ACTIVE);return function(){return c("PolarisEventLoop").clearTimeout(a)}},[f]);a=k!=null&&g!=null?h.jsx(c("PolarisSponsoredStoriesFooterCTA.react"),{ctaUrl:g,isActive:o,text:k}):null;return b.isSponsored!==!0||m==null?null:h.jsx("div",{className:"x1qjc9v5 x155pf6g x1ey2m1c x9f619 x78zum5 xdt5ytf x2lah0s x1pg5gke x18dl8mb x13a6bvl xr1yuqi x11i5rnm xat24cr x1mh8g0r xexx8yu x1pi30zi x1l90r2v x1swvt13 x47corl x10l6tqk x17qophe x11njtxf xh8yej3 x14g40p9",children:h.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x2lah0s xl56j7k xr1yuqi x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6 x11njtxf",children:[g!=null&&a,h.jsx("div",{className:"xds687c x10l6tqk",children:n}),h.jsx(c("PolarisStoryViewerToast.react"),{message:e,onClose:function(){return l("")}})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoriesFooterHighlightButtons.react",["fbt","IGDSStoryHighlightPanoFilled24Icon","IGDSStoryHighlightPanoOutline24Icon","PolarisIGCoreButton","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.iconVariant;a=a.onClick;return i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:a,children:i.jsx("div",{className:"xrb244j x4r51d9 x67bb7w x10l6tqk",children:b==="FILLED"?i.jsx(c("IGDSStoryHighlightPanoFilled24Icon"),{alt:h._("__JHASH__PH6d14DytVf__JHASH__"),color:"web-always-white",size:20}):i.jsx(c("IGDSStoryHighlightPanoOutline24Icon"),{alt:h._("__JHASH__PH6d14DytVf__JHASH__"),color:"web-always-white",size:20})})})}a.displayName=a.name+" [from "+f.id+"]";g.PolarisAddStoryToHighlightButton=a}),98);
__d("PolarisStoryVideoLogger",["PolarisVideoLogger","polarisVideoEventLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f=b.id,g=b.owner,h=b.postedAt;b=b.trackingToken;a=a.current;c=c.current;c.loggingSequenceNumber++;return babelHelpers["extends"]({analyticsContext:"StoriesPage",currentVideoTime:d("PolarisVideoLogger").normalizeVideoEvent(a==null?void 0:a.currentTime),dashInfo:null,duration:d("PolarisVideoLogger").normalizeVideoEvent(a==null?void 0:a.duration),id:f||"",ownerId:g==null?void 0:g.id,postedAt:h,sequenceNumber:c.loggingSequenceNumber,streamingFormat:"progressive",trackingToken:b,videoWidth:a==null?void 0:a.videoWidth},d("polarisVideoEventLogger").getAdLoggingParams(e))}g.getStoryVideoLoggingParams=a}),98);
__d("usePolarisDesktopStoriesGalleryIds",["PolarisReactRedux","polarisStorySelectors"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=Math.abs(b-4);b=Math.abs(a.length-b-5);c=Array(c).fill(null);b=Array(b).fill(null);return[].concat(c,a,b)}function a(){var a=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getReelGalleryReelIds),b=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelId});if(b==null)return[];b=a.indexOf(b);return h(a,b)}g.padReelIdsForLayout=h;g.useDesktopStoriesGalleryIds=a}),98);
__d("usePolarisDesktopStoriesGallerySize",["PolarisDesktopStoriesGalleryConstants","useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useWindowSize")(),b=a.innerHeight,e=a.innerWidth;a=(a=d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS.find(function(a){return b/e>=a.height/a.width}))!=null?a:d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS[d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS.length-1];var f=Math.min(e,b*(a.width/a.height)),g=Math.min(b,e*(a.height/a.width));return{aspectRatio:a,maxGalleryHeight:g,maxGalleryWidth:f}}g["default"]=a}),98);
__d("usePolarisDesktopStoriesGallerySprings",["Locale","PolarisDesktopStoriesGalleryConstants","react","react-spring-wwwig","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function i(a){return(a=d("PolarisDesktopStoriesGalleryConstants").GALLERY[a])!=null?a:d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview}function j(a,b,c){b=a+b;return c?i(b):i(a)}function k(a,b,c,e,f,g){var h=a;e?h=a+c:h=a;c=d("PolarisDesktopStoriesGalleryConstants").GALLERY.slice(0,Math.max(0,h)).reduce(function(a,c){return a+b.viewer.width*c+b.gutter.width},b.gutter.width);h=b.viewer.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview;var i=2*(h+b.gutter.width);if(f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_1_5_CROP){var j=.5*h;i=i+j+b.gutter.width}if(f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_0_5_CROP){j=1.5*h;i=i+j+b.gutter.width*2}h=0;f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_2_CROP&&(!e&&a===1&&(h=-2),!e&&a===d("PolarisDesktopStoriesGalleryConstants").GALLERY.length-2&&(h=2));j=c-i+h;g&&(j*=-1);return j}function l(a,b){if(a.length!==b.length)return null;var c=a.length-1;for(var d=a.length-1;d>=0;d--)if(a[d]!==null){c=d;break}d=b.indexOf(a[c]);if(d!==-1)return c-d;c=0;for(d=0;d<a.length;d++)if(a[d]!==null){c=d;break}d=b.indexOf(a[c]);return d!==-1?c-d:null}function m(a,b,d,e,f,g){e===void 0&&(e=2);f===void 0&&(f=!1);var h=c("Locale").isRTL();return function(c){c===void 0&&(c=0);var i=j(c,d,!0),l=j(c,d,!1),m=k(c,b,d,!0,e,h),n=k(c,b,d,!1,e,h),o=c===4;return{from:{scale:i,x:m},immediate:f,onRest:g!=null&&o?function(){return g(a[c])}:function(){},to:{scale:l,x:n}}}}function n(a,b){a=a*b;return{height:a,width:a*d("PolarisDesktopStoriesGalleryConstants").STORY_VIEWER_ASPECT_RATIO_W_H}}function a(a,b,e,f,g){var i=n(e,d("PolarisDesktopStoriesGalleryConstants").STORY_VIEWER_LARGE_HEIGHT_PCT),j={gutter:{height:0,width:0},viewer:i};e=d("PolarisDesktopStoriesGalleryConstants").VISIBLE_GALLERY.reduce(function(a,b){return a+i.width*b},0);var k=(f-e)/6;if(b.previewCount===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_1_5_CROP){var o=i.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview;e-=o;k=(f-e)/4}if(b.previewCount===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_0_5_CROP){o=i.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview*3;e-=o;k=(f-e)/2}j.gutter.width=k;o=d("react-spring-wwwig").useSprings(a.length,m(a,j,0,b.previewCount,!0,g));f=o[0];var p=o[1],q=c("usePrevious")(a),r=c("usePrevious")(j.viewer.height),s=c("usePrevious")(j.gutter.width);h(function(){var c=q!=null&&q.join()!==a.join(),d=r!=null&&r!==j.viewer.height||s!=null&&s!==j.gutter.width;if(c||d){c=l((c=q)!=null?c:[],a);d=c===null||d;c=(c=c)!=null?c:0;p(m(a,j,c,b.previewCount,d,g))}},[a,j,q,p,r,s,b.previewCount,g]);return[i.height,i.width,f]}g.calcX=k;g.calcIndexAdjustment=l;g.useDesktopStoriesGallerySprings=a}),98);
__d("PolarisDesktopStoriesFooterCTA.react",["cx","fbt","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.onOpenCta;return j.jsx("div",{className:"_adip",onClick:a,role:"button",tabIndex:"0",children:j.jsx("div",{className:"_adiq",children:i._("__JHASH__6pmWQbO1xBr__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesFooter.react",["cx","IGDSBox.react","PolarisDesktopStoriesFooterCTA.react","PolarisDirectStrings","PolarisLikeButton.react","PolarisReactRedux","PolarisStoriesFooterHighlightButtons.react","PolarisStoriesProvider.react","PolarisStoryReplyComposer.react","PolarisStoryShareButtonWithDialog.react","PolarisStoryViewerButton.react","PolarisStoryViewerToast.react","polarisPostSelectors","qex","react","usePolarisStoriesFooter","usePolarisStoryLikes"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.post;a=a.reel;var e=d("PolarisStoriesProvider.react").useStoriesContext(),f=e.updateStoriesContext;e=d("usePolarisStoriesFooter").usePolarisStoriesFooter(b,a);var g=e.canReply,h=e.canReshare,k=e.ctaUrl,l=e.handleShareStory,m=e.isViewingOwnStory,n=e.mediaId,o=e.onOpenCta,p=e.setToastMessage,q=e.storyOwnerId;e=e.toastMessage;l=h?i.jsx(c("PolarisStoryShareButtonWithDialog.react"),{currentPost:b,handleShareStory:l,reelId:a.id,referrer:"DesktopStoriesFooter"}):null;var r=j(function(){f({isHighlightsTrayActive:!0})},[f]),s=n.split("_"),t=s[0];s[1];s=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").doesViewerLikePost(a,t)});var u=c("usePolarisStoryLikes")(t);if(q==null)return null;n=i.jsx(c("PolarisStoryReplyComposer.react"),{handleStoryLike:u,likedByViewer:s,mediaId:n,onSendMessage:function(){p(d("PolarisDirectStrings").SENT_TOAST_TEXT)},post:b,reelId:a.id,shareButton:l,storyOwnerId:q,supportsReelReactions:!m});return b.isSponsored===!0?null:i.jsxs("div",{className:"_ac11",children:[i.jsxs("div",{className:"_ac12",children:[g?n:i.jsxs(c("IGDSBox.react"),{direction:"row",flex:"grow",justifyContent:"end",position:"relative",children:[!m&&i.jsx("div",{className:"_ac13",children:i.jsx(c("PolarisLikeButton.react"),{color:"ig-stroke-on-media",isLiked:s,onChange:u})}),h&&c("qex")._("953")===!0&&l]}),i.jsx(c("PolarisStoryViewerToast.react"),{message:e,onClose:function(){return p("")}})]}),i.jsx(c("PolarisStoryViewerButton.react"),{}),k!=null&&i.jsx(c("PolarisDesktopStoriesFooterCTA.react"),{onOpenCta:o}),m&&a.type!=="GraphHighlightReel"&&c("qex")._("129")===!0&&i.jsx(d("PolarisStoriesFooterHighlightButtons.react").PolarisAddStoryToHighlightButton,{iconVariant:((g=(q=b.highlightReelIds)==null?void 0:q.length)!=null?g:0)>0?"FILLED":"OUTLINE",onClick:r})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesHeaderV2.react",["cx","IGDSBox.react","PolarisAdsGatingHelpers","PolarisClickEventLoggerProvider.react","PolarisCloseFriendsLabel.react","PolarisExclusiveStoryLabel.react","PolarisProfileClickEventLoggerProvider.react","PolarisSharedStoryHeaderInfo.react","PolarisSponsoredStoryContext.react","PolarisStoriesHeaderOwnerV2.react","PolarisStoriesProvider.react","PolarisStoryOptionsButton.react","PolarisStoryProgressBars.react","PolarisStoryVideoContext.react","PolarisStoryVideoLogger","emptyFunction","nullthrows","polarisAdsSelectors","polarisStorySelectors","polarisVideoEventLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useEffect;function a(a){var b=a.currentReelItemIndex,e=a.itemCount,f=a.onModalOpen,g=a.playPercentage,h=a.post,l=a.postAuthor,m=a.reel,n=a.reelOwner;a=a.trayEntrypoint;var o=d("PolarisStoriesProvider.react").useStoriesContext(),p=o.isMuted,q=o.isPaused,r=o.needsTapToStart,s=o.postIDThatShouldShowSensitiveContentOverlay,t=o.shouldMuteAudio,u=o.shouldMuteAudioReason,v=o.updateStoriesContext;o=j(d("PolarisSponsoredStoryContext.react").PolarisSponsoredStoryContext);o=o.onProfileClick;var w=h.isSponsored===!0&&d("PolarisAdsGatingHelpers").enableProfileClickLoggingForIgWebStory(),x=h.audience==="MediaAudience.BESTIES",y=h.audience==="MediaAudience.FAN_CLUB";s=s==null&&!r;var z=d("polarisAdsSelectors").useStoryAdInfo(h.id,function(a){return a});r=d("PolarisStoryVideoContext.react").useStoryVideoContext();var A=r.loggerValuesRef,B=r.ref;k(function(){h.hasAudio===!0&&!p&&d("polarisVideoEventLogger").logAudioEnabled(babelHelpers["extends"]({},d("PolarisStoryVideoLogger").getStoryVideoLoggingParams(B,h,A,z),{loopsCount:0}))},[h]);r=function(){h.hasAudio===!0&&B.current!=null&&(p?d("polarisVideoEventLogger").logAudioEnabled(babelHelpers["extends"]({},d("PolarisStoryVideoLogger").getStoryVideoLoggingParams(B,h,A,z),{loopsCount:0})):d("polarisVideoEventLogger").logAudioDisabled(babelHelpers["extends"]({},d("PolarisStoryVideoLogger").getStoryVideoLoggingParams(B,h,A,z),{loopsCount:0}))),v({isMuted:!p})};return i.jsx(c("PolarisClickEventLoggerProvider.react"),{shouldLog:w,children:i.jsx(c("PolarisProfileClickEventLoggerProvider.react"),{onProfileClick:w?o:c("emptyFunction"),children:i.jsxs("header",{className:"_ac0k",children:[i.jsx(c("PolarisStoryProgressBars.react"),{count:e,currentIndex:b,percentage:g}),i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",position:"relative",children:[i.jsx("div",{className:"_ac0l",children:i.jsx(c("PolarisStoriesHeaderOwnerV2.react"),{appAttribution:h.storyAppAttribution,audience:h.audience,isAffiliate:h.isAffiliate===!0,isPaidPartnership:h.isPaidPartnership===!0,postAuthor:l,postedAt:c("nullthrows")(h.postedAt),postId:h.id,reel:m,reelOwner:n,resharedStoryMediaAuthor:h.resharedStoryMediaAuthor,sponsors:h.sponsors,title:(w=d("polarisStorySelectors").getReelTitle(m,n))!=null?w:"",trayEntrypoint:a})}),i.jsx("div",{className:"_ac0m",children:s&&i.jsxs(i.Fragment,{children:[x&&i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",children:[i.jsx(c("PolarisCloseFriendsLabel.react"),{onClick:function(){v({isCloseFriendsDialogActive:!0})},textSize:"small"}),i.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative"})]}),y&&i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",children:[i.jsx(c("PolarisExclusiveStoryLabel.react"),{onClick:function(){v({isExclusiveStoryDialogActive:!0})},textSize:"small"}),i.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative"})]}),i.jsx(c("PolarisSharedStoryHeaderInfo.react"),{hidePlayControl:!1,isMuted:p,isPaused:q,post:h,shouldMuteAudio:t,shouldMuteAudioReason:u,toggleStoryMuteState:r,toggleStoryPauseState:function(){v({isPaused:!q})}}),i.jsx(c("PolarisStoryOptionsButton.react"),{"data-testid":void 0,onClick:f,post:h,reel:m})]})})]})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelStandaloneViewer.react",["IGDSBox.react","PolarisMonitorErrors","PolarisReactRedux","PolarisSizing","PolarisStoryViewer.react","err","polarisPostSelectors","polarisStorySelectors","react","usePolarisSelector","usePolarisStorySetup","useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelId}),b=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPostId),e=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelItemIndex}),f=c("useWindowSize")();f=f.innerHeight;f=d("PolarisSizing").getViewerDimensionsFromHeightV2(f);var g=f.height;f=f.width;var i=c("usePolarisSelector")(function(b){return d("polarisStorySelectors").getReel(b,(b=a)!=null?b:"")}),j=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getPostById(a,(a=b)!=null?a:"")});if(i==null){var k=c("err")("Unexpected null story reel in desktop standalone story viewer");d("PolarisMonitorErrors").logError(k);throw c("err")}c("usePolarisStorySetup")(i,j);return a==null||b==null?null:h.jsx(c("IGDSBox.react"),{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:h.jsx("div",{style:{height:g,width:f},children:h.jsx(c("PolarisStoryViewer.react"),{postId:b,reelId:a,reelItemIndex:e,viewerHeight:g,viewerWidth:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelPreviewOverlays.react",["cx","PolarisSensitivityOverlayIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"_ac07"})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i.jsx("div",{className:"_ac08","data-testid":void 0})}b.displayName=b.name+" [from "+f.id+"]";function e(){return i.jsx("div",{className:"_ac09","data-testid":void 0,children:i.jsx(c("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:null})})}e.displayName=e.name+" [from "+f.id+"]";g.DesktopStoriesPreviewObscurityOverlay=a;g.DesktopStoriesPreviewSeenOverlay=b;g.DesktopStoriesPreviewSensitivityOverlay=e}),98);
__d("PolarisDesktopStoriesV2ReelPreview.react",["cx","fbt","ix","IGCoreImage","IGDSBox.react","IGDSText.react","PolarisAdsGatingHelpers","PolarisDesktopStoriesV2ReelPreviewOverlays.react","PolarisGroupProfileUtils","PolarisIGCorePressable","PolarisReactRedux","PolarisResponsiveImage.react","PolarisSponsoredLabel.react","PolarisTimestamp.react","PolarisUserAvatarWithStories.react","nullthrows","polarisAdsSelectors","polarisGetPostFromGraphMediaInterface","polarisPostSelectors","polarisStorySelectors","polarisUserSelectors","qex","react","useMergeRefs","usePolarisSelector","usePolarisSponsoredElTracker","usePolarisStoryPreviewImpressionLogger"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l={whiteText:{color:"xh93fs4",$$css:!0}},m="reel_feed_timeline";function n(a){var b=a.isSponsored,e=a.pictureUrl,f=a.post,g=a.postedAt,h=a.reelIsSeen,i=a.title;a=a.user;f=d("polarisAdsSelectors").useStoryAdInfo(f.id,function(a){return a==null?void 0:a.label});b=b&&f!=null;b=b?k.jsx(c("PolarisSponsoredLabel.react"),{"data-testid":void 0,label:c("nullthrows")(f),xstyle:l.whiteText}):k.jsx(c("PolarisTimestamp.react"),{isLong:!1,value:g});return k.jsxs(c("IGDSBox.react"),{alignItems:"center",bottom:!0,height:"100%",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:[h?null:k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewObscurityOverlay,{}),k.jsxs("div",{className:"_ac0h _advu",children:[k.jsx(c("PolarisUserAvatarWithStories.react"),{isClickable:!1,isLink:!1,profilePictureUrl:e,showLivePulse:!1,showLiveRing:!1,size:56,storyEntrypoint:m,username:a.username}),k.jsxs("div",{className:"_afgd",children:[k.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:k.jsx(c("IGDSText.react").BodyEmphasized,{color:"webAlwaysWhite",children:i})}),k.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:k.jsx(c("IGDSText.react").Body,{color:"webAlwaysWhite",children:b})})]})]})]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.onClick,e=a.reelId,f=d("PolarisReactRedux").useSelector(function(a){return d("polarisStorySelectors").getReel(a,e)}),g=d("PolarisReactRedux").useSelector(function(a){var b=f==null?void 0:f.itemIds;if(b!=null&&b.length>0&&f!=null){b=(b=d("polarisStorySelectors").getInitialReelIndex(a,f.id))!=null?b:0;b=c("nullthrows")(f==null?void 0:f.itemIds)[b];if(b)return d("polarisPostSelectors").getPostById(a,b)}return null});a=d("polarisAdsSelectors").useStoryAdInfo(g==null?void 0:g.id,function(a){return a});var h=d("polarisAdsSelectors").useStoryAdPosition(e,function(a){return a}),l=g!=null&&d("polarisGetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(g)!=null,m=d("polarisUserSelectors").useUser(f==null?void 0:f.userId),o=c("usePolarisSelector")(function(a){return(a=a.ads.storyAdInjectionData)==null?void 0:a.seenStoryAdIds}),p=d("PolarisReactRedux").useSelector(function(a){var b;b=g==null?void 0:(b=g.owner)==null?void 0:b.id;return b!=null?d("polarisUserSelectors").getUserById(a,b):null});m=d("PolarisGroupProfileUtils").getIsUserGroupProfile(m)?m:p;p=c("usePolarisStoryPreviewImpressionLogger")(f,g);a=c("usePolarisSponsoredElTracker")({mediaType:0,position:(h=h)!=null?h:-2,postId:e,trackingToken:(h=a==null?void 0:a.tracking_token)!=null?h:""});h=(f==null?void 0:f.isSponsored)===!0;p=c("useMergeRefs")(d("PolarisAdsGatingHelpers").hasPreviewImpressionLogging()?p:null,h?a:null);if(f!=null){h=f.isSponsored===!0;o=h?(a=o==null?void 0:o.includes(f.id))!=null?a:!1:d("polarisStorySelectors").isReelSeen(f);a=f.type==="GraphHighlightReel";return k.jsx("div",{className:"_ac0i","data-testid":void 0,ref:p,children:g==null||m==null?k.jsx(c("IGCoreImage"),{alt:i._("__JHASH__65y6vsno5QG__JHASH__"),src:{light:j("163057")}}):k.jsxs(c("PolarisIGCorePressable"),{className:"_ac0j",keyPress:["Enter"],onPress:function(){return b(e)},children:[o?k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewSeenOverlay,{}):null,l?k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewSensitivityOverlay,{}):null,g==null?null:k.jsx(c("PolarisResponsiveImage.react"),{decoding:"sync",src:g.src,srcSet:g.displayResources,style:o===!1&&c("qex")._("972")?{filter:"blur("+(c("qex")._("973")||0)+"px)",height:"100%",objectFit:"cover",transform:"translateZ(0)",width:"100%",willChange:"transform"}:{height:"100%",objectFit:"cover",width:"100%"}}),k.jsx(n,{isSponsored:h,pictureUrl:a?f.thumbnailUrl:m.profilePictureUrl,post:g,postedAt:c("nullthrows")(g.postedAt),reelIsSeen:o,title:a?f.title:m.username,user:c("nullthrows")(m)})]})})}return k.jsx(k.Fragment,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesViewerOrPreview.react",["PolarisDesktopStoriesV2ReelPreview.react","PolarisReactRedux","PolarisSponsoredStory.react","PolarisStoryActions","PolarisStoryViewer.react","nullthrows","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e=a.reelId,f=a.viewerHeight;a=a.viewerWidth;var g=d("PolarisReactRedux").useDispatch(),i=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelId}),j=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPostId),k=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelItemIndex});b=(b=d("PolarisReactRedux").useSelector(function(a){return d("polarisStorySelectors").getReel(a,(a=e)!=null?a:"")}))==null?void 0:b.isSponsored;var l=e==null;if(l)return null;l=i===e;if(l){if(e==null||j==null)return null;return b===!0?h.jsx(c("PolarisSponsoredStory.react"),{postId:j,reelId:e,reelItemIndex:k,viewerHeight:f,viewerWidth:a},e):h.jsx(c("PolarisStoryViewer.react"),{postId:j,reelId:e,reelItemIndex:k,viewerHeight:f,viewerWidth:a})}return h.jsx(c("PolarisDesktopStoriesV2ReelPreview.react"),{onClick:function(){return g(d("PolarisStoryActions").navigateToClickedGalleryReel(c("nullthrows")(e)))},reelId:c("nullthrows")(e)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelsGallery.react",["cx","IGDSBox.react","Locale","PolarisDesktopStoriesViewerOrPreview.react","PolarisIGAnimate","nullthrows","polarisPostSelectors","polarisStorySelectors","react","react-spring-wwwig","stylex","usePolarisDesktopStoriesGalleryIds","usePolarisDesktopStoriesGallerySize","usePolarisDesktopStoriesGallerySprings","usePolarisSelector","usePolarisStorySetup"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={animated:{position:"x10l6tqk",start:"x17qophe",$$css:!0},transformOriginLeft:{transformOrigin:"x19w6rv",$$css:!0},transformOriginRight:{transformOrigin:"xee5nap",$$css:!0}};function a(){var a=d("usePolarisDesktopStoriesGalleryIds").useDesktopStoriesGalleryIds(),b=c("usePolarisDesktopStoriesGallerySize")(),e=b.aspectRatio,f=b.maxGalleryHeight;b=b.maxGalleryWidth;e=d("usePolarisDesktopStoriesGallerySprings").useDesktopStoriesGallerySprings(a,e,f,b,function(){});var g=e[0],h=e[1];e=e[2];var k=c("usePolarisSelector")(function(a){return a.stories.currentReelId}),l=c("usePolarisSelector")(d("polarisStorySelectors").getCurrentPostId),m=c("nullthrows")(c("usePolarisSelector")(function(a){return d("polarisStorySelectors").getReel(a,(a=k)!=null?a:"")})),n=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getPostById(a,(a=l)!=null?a:"")});c("usePolarisStorySetup")(m,n);return i.jsx("div",{className:"_ac0n",style:{maxHeight:f,maxWidth:b},children:i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",height:"100%",position:"relative",children:e.map(function(b,e){var f=b.scale;b=b.x;return i.jsx(d("PolarisIGAnimate").Animated.div,{className:c("stylex")(j.animated,c("Locale").isRTL()?j.transformOriginRight:j.transformOriginLeft),style:{height:g,transform:d("react-spring-wwwig").interpolate([b,f],function(a,b){return"translate("+a+"px) scale("+b+")"}),width:h},children:i.jsx(c("PolarisDesktopStoriesViewerOrPreview.react"),{reelId:a[e],viewerHeight:g,viewerWidth:h})},e)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesPage.react",["fbt","IGDSDialogBackwardsCompatibilityWrapper.react","IGDSSpinner.react","PolarisAsyncEntityQRModal","PolarisDesktopStoriesV2ReelStandaloneViewer.react","PolarisDesktopStoriesV2ReelsGallery.react","PolarisFullscreenShellWithLogo.react","PolarisPageMetadata.react","PolarisReactRedux","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStoryVideoContext.react","polarisStorySelectors","react","usePolarisReelNotAvailable"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState,l="StoriesPage",m=h._("__JHASH__SkrEOF7TPUU__JHASH__");function a(a){var b=a.highlightReelId,e=a.initializing,f=a.needsTapToStart,g=a.showQRModal;a=a.viewerIsLoggedIn;g=k(g);var h=g[0],n=g[1];g=d("PolarisReactRedux").useSelector(function(a){return a.stories.isLoading});g=g===!0||e===!0;e=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentTrayOrder});e=g!==!0&&e.length>1;var o=g!==!0&&e!==!0,p=d("PolarisReactRedux").useDispatch(),q=j(function(a){a===void 0&&(a="tap_exit");return p(d("PolarisStoryActions").closeReels(a))},[p]),r=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentReel),s=c("usePolarisReelNotAvailable")(g,r);return s?null:i.jsxs(c("PolarisFullscreenShellWithLogo.react"),{onClose:function(){q("tap_exit")},children:[i.jsx(c("PolarisPageMetadata.react"),{id:l,title:m}),g!==!0?i.jsxs(i.Fragment,{children:[i.jsx(d("PolarisStoriesProvider.react").StoriesContextProvider,{initialState:{needsTapToStart:f,viewerIsLoggedIn:a},children:i.jsxs(d("PolarisStoryVideoContext.react").StoryVideoContextProvider,{children:[e?i.jsx(c("PolarisDesktopStoriesV2ReelsGallery.react"),{}):null,o?i.jsx(c("PolarisDesktopStoriesV2ReelStandaloneViewer.react"),{}):null]})}),h&&i.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:i.jsx(c("PolarisAsyncEntityQRModal"),{entityID:(s=b==null?void 0:b.toString())!=null?s:r==null?void 0:(g=r.itemIds)==null?void 0:g[0],onClose:function(){return n(!1)},source:"DIRECT_NAVIGATION"})})]}):i.jsx(c("IGDSSpinner.react"),{color:"light",position:"absolute",size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelViewer.react",["cx","fbt","Locale","PolarisDesktopSponsoredStoriesFooter.react","PolarisDesktopStoriesFooter.react","PolarisDesktopStoriesHeaderV2.react","PolarisDesktopStoryEventZone.react","PolarisReactRedux","PolarisSponsoredStoryMedia.react","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStoryMedia.react","PolarisStoryMediaPrefetcher.react","PolarisTrackingNodeProvider.react","nullthrows","polarisStorySelectors","polarisUserSelectors","react","usePolarisUpdateStorySeen"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useState;function a(a){var b,e=a.innerRef,f=a.post,g=a.reel;a=a.reelItemIndex;var h=c("nullthrows")(d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getTrayEntrypoint)),m=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentTrayOrder});b=d("polarisUserSelectors").useUser((b=f.owner)==null?void 0:b.id);var n=d("polarisUserSelectors").useUser(g.userId),o=d("PolarisReactRedux").useSelector(function(a){return g.itemIds==null?[]:g.itemIds.map(function(b){return c("nullthrows")(a.posts.byId.get(b))}).filter(function(a){return a!=null})}),p=m[0];p=g.id===p&&a===0;m=a===o.length-1&&m[m.length-1]===g.id;var q=h==="story_ad_activity",r=d("PolarisReactRedux").useDispatch(),s=l(0),t=s[0],u=s[1];s=d("polarisStorySelectors").isReelItemExpired(f.expiringAt,g);var v=d("PolarisStoriesProvider.react").useStoriesContext(),w=v.isInitialLoad,x=v.needsTapToStart,y=v.postIDThatShouldShowSensitiveContentOverlay,z=v.updateStoriesContext;v=k(function(a){a===void 0&&(a="tap_exit"),r(d("PolarisStoryActions").closeReels(a))},[r]);var A=k(function(a){a===void 0&&(a="tap_forward"),u(0),r(d("PolarisStoryActions").nextReelItem(a))},[r]),B=k(function(a){a===void 0&&(a="swipe_forward"),u(0),r(d("PolarisStoryActions").nextReel(a))},[r]),C=c("usePolarisUpdateStorySeen")(),D=k(function(){u(0),r(d("PolarisStoryActions").prevReelItem("tap_back"))},[r]),E=k(function(){u(0),r(d("PolarisStoryActions").prevReel("swipe_back"))},[r]),F=k(function(){z({isInitialLoad:!1,isPaused:!1})},[z]),G=f.isSponsored===!0&&h!=="story_ad_activity"?c("PolarisSponsoredStoryMedia.react"):c("PolarisStoryMedia.react"),H=f.isSponsored===!0?c("PolarisDesktopSponsoredStoriesFooter.react"):c("PolarisDesktopStoriesFooter.react"),I=c("Locale").isRTL(),J=j.jsx("div",{className:(I?"_9zm0":"")+(I?"":" _9zm2")});I=j.jsx("div",{className:(I?"":"_9zm0")+(I?" _9zm2":"")});return j.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:321,children:j.jsx("section",{className:"_ac0a","data-testid":void 0,ref:x?null:e,children:j.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:15,children:j.jsxs("div",{className:"_ac0b",children:[!p&&!x&&j.jsx("button",{"aria-label":i._("__JHASH__wLBVljvWo_D__JHASH__"),className:"_ac0c",onClick:D,children:I}),j.jsx(G,{autoPlay:!0,currentReelItemIndex:a,eventZone:c("PolarisDesktopStoryEventZone.react"),isExpired:s,isFirstStory:p,isInitialLoad:w,onClose:v,onNext:A,onNextReel:B,onPause:function(){},onPlay:F,onPostSeen:C,onPrev:D,onPrevReel:E,onUpdatePlayPercentage:u,onUpdatePreplayPercentage:u,post:f,preload:"auto",reelId:g.id,trayEntrypoint:h},f.id),j.jsx(c("PolarisStoryMediaPrefetcher.react"),{prefetchContext:"stories"}),j.jsx(c("PolarisDesktopStoriesHeaderV2.react"),{currentReelItemIndex:a,itemCount:o.length,onModalOpen:function(){return z({isModalActive:!0})},playPercentage:t,post:f,postAuthor:c("nullthrows")(b),reel:g,reelOwner:c("nullthrows")(n),trayEntrypoint:h}),!x&&(!q||!m)&&j.jsx("button",{"aria-label":i._("__JHASH__EIdmgfpCblf__JHASH__"),className:"_ac0d",onClick:function(){return A("tap_forward")},children:J}),y==null&&!x&&!s&&j.jsx(H,{post:f,reel:g})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("IGDSWarningPanoOutline24Icon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 7.875a1.1 1.1 0 0 0-1.141 1.134l.359 5.005a.79.79 0 0 0 1.565 0l.36-5.005A1.1 1.1 0 0 0 12 7.875Zm0 8.184a1.137 1.137 0 1 0 1.137 1.136A1.137 1.137 0 0 0 12 16.06Zm10.325.63L15.03 4.08a3.5 3.5 0 0 0-6.059 0L1.677 16.688a3.5 3.5 0 0 0 3.029 5.253h14.59a3.5 3.5 0 0 0 3.03-5.253Zm-1.73 2.501a1.484 1.484 0 0 1-1.3.751H4.706a1.5 1.5 0 0 1-1.297-2.25l7.295-12.608a1.5 1.5 0 0 1 2.596 0l7.295 12.607a1.484 1.484 0 0 1 .001 1.5Z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("IGDSWebPauseFilledIcon",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:h.jsx("path",{d:"M15 1c-3.3 0-6 1.3-6 3v40c0 1.7 2.7 3 6 3s6-1.3 6-3V4c0-1.7-2.7-3-6-3zm18 0c-3.3 0-6 1.3-6 3v40c0 1.7 2.7 3 6 3s6-1.3 6-3V4c0-1.7-2.7-3-6-3z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("PolarisHideNativeAppBanner",["PolarisBatchDOM","PolarisConfig","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=c("emptyFunction")),d("PolarisConfig").isIOS()&&d("PolarisBatchDOM").mutate(function(){window.setTimeout(function(){window&&document.body&&(window.scrollTo(0,document.body.scrollHeight),a())},0)})}g.hideNativeAppBanner_HACK=a}),98);
__d("PolarisFullscreenShell.react",["PolarisBaseShell.react","PolarisHideNativeAppBanner","PolarisToastWrapper.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={shell:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){d("PolarisHideNativeAppBanner").hideNativeAppBanner_HACK()};e.componentDidUpdate=function(a){a.deviceOrientation!=null&&a.deviceOrientation!==this.props.deviceOrientation&&d("PolarisHideNativeAppBanner").hideNativeAppBanner_HACK()};e.render=function(){var a=this.props,b=a.children;a=a.xstyle;return h.jsxs(c("PolarisBaseShell.react"),{xstyle:[i.shell,a],children:[b,h.jsx(c("PolarisToastWrapper.react"),{})]})};return b}(h.Component);g["default"]=a}),98);
__d("PolarisDirectActionSendText",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d,e,f,h){return a!=null?a.sendTextMessage(c,d,e,f,h):(g||(g=b("Promise"))).reject(new Error("MQTT is not instantiated"))}f.sendText=a}),66);
__d("PolarisDirectActionShareStory",["InstagramODS","PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionSendText","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectConstants","PolarisDirectStrings","PolarisToastActions","Promise","isStringNullOrEmpty","nullthrows","polarisDirectSelectors","polarisGenerateOfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f,g,i,j,k){return function(l,m){e.forEach(function(e,n){var o;e.type==="user"?o=d("polarisDirectSelectors").getThreadIdForUserId(m(),n):e.type==="thread"&&(o=n);d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_attempt",{existingThreadId:o,recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE});return o!=null?d("PolarisDirectAPI").storyShare(f,g,o).then(function(){j==null?void 0:j(n),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),c("InstagramODS").incr("web.share_sheet.send_story")}).then(function(){var f=c("polarisGenerateOfflineThreadingId")();o!=null&&!c("isStringNullOrEmpty")(i)&&new(h||(h=b("Promise")))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(a,c("nullthrows")(o),i,f)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),c("InstagramODS").incr("web.share_sheet.send_story_with_comment")})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),l(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})["catch"](function(a){k==null?void 0:k(a,n),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_share_story_failed",a,{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),l(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))}):d("PolarisDirectAPI").createGroupThread([n]).then(function(m){var o=m.thread_id;l(d("PolarisDirectActionThreadLoaded").threadLoaded(m));d("PolarisDirectAPI").storyShare(f,g,o).then(function(){j==null?void 0:j(n),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE})}).then(function(){var f=c("polarisGenerateOfflineThreadingId")();o!=null&&!c("isStringNullOrEmpty")(i)&&new(h||(h=b("Promise")))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(a,c("nullthrows")(o),i,f)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:e.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT})})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),l(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})["catch"](function(a){k==null?void 0:k(a,n),d("PolarisDirectActionsLogger").directActionsLogger.logError("share_story_failed_existing_thread",a,{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),l(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})},function(a){k==null?void 0:k(a,n),d("PolarisDirectActionsLogger").directActionsLogger.logError("share_story_failed_new_thread",a,{type:d("PolarisDirectConstants").ThreadItemType.STORY_SHARE}),l(d("PolarisToastActions").showToast({text:d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE}))})})}}g.shareStory=a}),98);
__d("PolarisLocationSelectors",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){return(b=b.locations[a])!=null?b:null}}f.getLocation=a}),66);
__d("PolarisLocationAvatar.react",["cx","fbt","IGDSLocationPanoOutlineIcon","PolarisFastLink.react","PolarisLinkBuilder","PolarisUA","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.backgroundColor;b=b===void 0?"ig-secondary-background":b;var e=a.isLink;e=e===void 0?!0:e;var f=a.locationId;a.locationSlug;var g=a.profilePictureUrl;a=a.size;a=a===void 0?30:a;a={height:a,width:a};var h=g!=null;h=h?j.jsx("img",{alt:"",className:"_abwx",src:g}):j.jsx("div",{className:"_abwy",children:j.jsx(c("IGDSLocationPanoOutlineIcon"),{alt:i._("__JHASH__cmMYPzRMRbE__JHASH__"),color:"ig-secondary-text",size:d("PolarisUA").isMobile()?32:44})});return j.jsx("div",{className:"_abwv"+(b==="ig-primary-background"?" _adbd":""),style:a,children:e?j.jsx(c("PolarisFastLink.react"),{className:"_aa8k",href:d("PolarisLinkBuilder").buildLocationLink({id:f,slug:""}),style_DEPRECATED:a,children:h}):j.jsx(j.Fragment,{children:h})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisNeedsTapToStart",["usePolarisViewer","useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useRouteReferrer")(),d=c("usePolarisViewer")();d=d!=null&&d.id===a;return d===!1&&((b==null?void 0:b.navigationType)==="initial"||(b==null?void 0:b.navigationType)==="reload")}g["default"]=a}),98);
__d("PolarisStoriesComponent.react",["PolarisReactRedux","cr:2883","cr:3914","cr:4381","cr:4689","err","polarisStorySelectors","react","usePolarisNeedsTapToStart"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e,f=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentReel);e=c("usePolarisNeedsTapToStart")((e=f==null?void 0:f.userId)!=null?e:null);var g=d("PolarisReactRedux").useSelector(function(a){return a.stories.isLoading});g=a.isLoggedOutHighlightViewer===!0&&(g===!0||a.initializing===!0);var i=a.isLoggedOutHighlightViewer===!0&&g===!1&&f!=null&&f.itemIds!=null&&f.itemIds.length>=0;g=function(){if(b("cr:3914"))return a.viewerIsLoggedIn?b("cr:3914"):b("cr:2883");if(b("cr:4689"))return a.viewerIsLoggedIn||i?b("cr:4689"):b("cr:4381")};f=g();if(f==null)throw c("err")("No root story component");return h.jsx("div",{style:{height:"100vh",position:"fixed",width:"100%"},children:h.jsx(f,babelHelpers["extends"]({},a,{needsTapToStart:e}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FocusGroup.react",["FocusManager","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","gkx","react","setElementCanTab"],(function(a,b,c,d,e,f,g){var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k=b.useRef,l=5;function m(a){return a.length===1}function n(a,b,c,e){d("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(c);b=b.DO_NOT_USE_queryFirstNode(a);b!==null&&(document.activeElement!=null&&d("setElementCanTab").setElementCanTab(document.activeElement,!1),d("setElementCanTab").setElementCanTab(b,!0),d("FocusManager").focusElement(b,{preventScroll:e}),c.preventDefault())}function o(a,b,c,d,e,f){b=b.onNavigate;if(b&&d){var g=!1,h=p(d,e);e={currentIndex:h,event:c,focusItem:function(a,b){a=a.scopeRef.current;a&&n(b||f,a,c)},getItem:function(a){return t(d,a)},getItemByTag:function(a){var b=d.length,c=h+1;while(!0){if(c===h)return null;if(c>b-1){c=0;continue}var e=d[c];if(e){var f=e.disabled,g=e.scopeRef,i=e.tag;g=g.current;if(g&&f!==!0&&i===a)return e}c++}return null},preventDefault:function(){g=!0},type:a};b(e);if(g)return!0}return!1}function p(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.scopeRef.current===b)return c}return-1}function q(a,b,c){var d=a.scopeRef.current;if(d===null)return null;if(c!==null){d=p(c,b);b=a.wrap;a=u(c,d-1);return!a&&b===!0?u(c,c.length-1):a}return null}function r(a,b,c){var d=a.scopeRef.current;if(d===null)return null;if(c.length>0){d=p(c,b);b=a.wrap;a=s(c,d+1);return!a&&b===!0?s(c,0):a}return null}function s(a,b){var d=a.length;if(b>d)return null;b=b;while(b<d){var e=a[b];if(c("gkx")("5403")){if(e!==null)return e.scopeRef.current}else if(e!==null&&e.disabled!==!0)return e.scopeRef.current;b++}return null}function t(a,b){b=b;while(b>=0){var d=a[b];if(c("gkx")("5403")){if(d!==null)return d}else if(d!==null&&d.disabled!==!0)return d;b--}return null}function u(a,b){a=t(a,b);return a?a.scopeRef.current:null}function v(a){var b=a.altKey,c=a.ctrlKey,d=a.metaKey;a=a.shiftKey;return b===!0||c===!0||d===!0||a===!0}function a(a){var b=h.unstable_Scope,c=h.createContext(null),e=h.createContext(null);function g(e){var f=e.children,g=e.orientation,i=e.wrap,m=e.tabScopeQuery,n=e.allowModifiers,o=e.preventScrollOnFocus,p=o===void 0?!1:o;o=e.pageJumpSize;var q=o===void 0?l:o,r=e.onNavigate,s=k(null);o=j(function(){return{scopeRef:s,orientation:g,wrap:i,tabScopeQuery:m,allowModifiers:n,pageJumpSize:q,preventScrollOnFocus:p,onNavigate:r}},[g,i,m,n,q,p,r]);var u=k(!1);e=d("ReactFocusEvent.react").useFocusWithin(s,j(function(){return{onFocusWithin:function(b){u.current||(u.current=!0,s.current&&a&&(t(s.current,a),d("setElementCanTab").setElementCanTab(b.target,!0)))}}},[u]));return h.jsx(c.Provider,{value:o,children:h.jsx(b,{ref:e,children:f})})}g.displayName=g.name+" [from "+f.id+"]";function t(a,b){var c=document.activeElement;a=a.DO_NOT_USE_queryAllNodes(b);if(a!==null)for(b=0;b<a.length;b++){var e=a[b];e!==c?d("setElementCanTab").setElementCanTab(e,!1):d("setElementCanTab").setElementCanTab(e,!0)}}function w(f){var g=f.children,l=f.disabled;f=f.tag;var w=k(null),x=i(c);d("ReactKeyboardEvent.react").useKeyboard(w,j(function(){return{onKeyDown:function(b){if(d("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(b))return;var c=w.current;if(c!==null&&x!==null){var f=x.orientation==="vertical"||x.orientation==="both",g=x.orientation==="horizontal"||x.orientation==="both",h=x.scopeRef.current,i=b.key,j=x.preventScrollOnFocus;if(i==="Tab"&&h!==null){var k=x.tabScopeQuery;if(k){if(x.onNavigate){var l=h.getChildContextValues(e);if(o("TAB",x,b,l,c,k))return}t(h,k)}return}if(v(b)){l=x.allowModifiers;if(l!==!0)return}if(h===null)return;k=i;d("Locale").isRTL()&&(i==="ArrowRight"?k="ArrowLeft":i==="ArrowLeft"&&(k="ArrowRight"));switch(k){case"Home":l=h.getChildContextValues(e);if(o("HOME",x,b,l,c,a))return;k=s(l,0);if(k){n(a,k,b,j);return}break;case"End":l=h.getChildContextValues(e);if(o("END",x,b,l,c,a))return;k=u(l,l.length-1);if(k){n(a,k,b,j);return}break;case"PageUp":l=h.getChildContextValues(e);if(o("PAGE_UP",x,b,l,c,a))return;k=x.pageJumpSize;var y=p(l,c);l=s(l,Math.max(0,y-k));if(l){n(a,l,b,j);return}break;case"PageDown":y=h.getChildContextValues(e);if(o("PAGE_DOWN",x,b,y,c,a))return;k=x.pageJumpSize;l=p(y,c);y=u(y,Math.min(y.length-1,l+k));if(y){n(a,y,b,j);return}break;case"ArrowUp":if(f){l=h.getChildContextValues(e);if(o("PREV_ITEM",x,b,l,c,a))return;k=b.metaKey||b.ctrlKey?s(l,0):q(x,c,l);if(k){n(a,k,b,j);return}}break;case"ArrowDown":if(f){y=h.getChildContextValues(e);if(o("NEXT_ITEM",x,b,y,c,a))return;l=b.metaKey||b.ctrlKey?u(y,y.length-1):r(x,c,y);if(l){n(a,l,b,j);return}}break;case"ArrowLeft":if(g){k=h.getChildContextValues(e);if(o("PREV_ITEM",x,b,k,c,a))return;f=b.metaKey||b.ctrlKey?s(k,0):q(x,c,k);if(f){n(a,f,b,j);return}}break;case"ArrowRight":if(g){y=h.getChildContextValues(e);if(o("NEXT_ITEM",x,b,y,c,a))return;l=b.metaKey||b.ctrlKey?u(y,y.length-1):r(x,c,y);l&&n(a,l,b,j)}break;default:if(m(i)&&x.onNavigate){k=h.getChildContextValues(e);o("PRINT_CHAR",x,b,k,c,a)}}}}}},[x]));var y=d("ReactFocusEvent.react").useFocusWithin(w,j(function(){return{onFocusWithin:function(b){if(a!=null){var c;c=(c=w.current)==null?void 0:c.DO_NOT_USE_queryFirstNode(a);b=b.target===c;if(b&&(c&&!d("setElementCanTab").canElementTab(c))){b=x==null?void 0:x.scopeRef.current;b&&t(b,a)}}}}},[x==null?void 0:x.scopeRef]));l={scopeRef:w,disabled:l,tag:f};return h.jsx(e.Provider,{value:l,children:h.jsx(b,{ref:y,children:g})})}w.displayName=w.name+" [from "+f.id+"]";return[g,w]}g.createFocusGroup=a}),98);